<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•™ìŠµìœ í˜• ê°„í¸ ì²´í¬ë¦¬ìŠ¤íŠ¸</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #E6F3FF;
            margin: 0;
            padding: 20px;
            font-family: 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            color: #333;
        }

        .container {
            width: 100%;
            margin: 0 auto;
            background-color: #E6F3FF;
            border-radius: 16px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.06);
            padding: 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            color: #1a5e3a;
            font-size: 32px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .instructions {
            background-color: #d8c7f8;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 40px;
            text-align: center;
        }

        .score-description {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-top: 20px;
            padding: 20px;
            background-color: #c58ff1;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.04);
        }

        .score-item {
            background-color: #2E8B57;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(46,139,87,0.2);
            transition: all 0.2s ease;
        }

        .score-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(46,139,87,0.3);
        }

        .scale-guide {
            display: flex;
            justify-content: space-between;
            background-color: #2E8B57;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .question-group {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
        }

        .group-title {
            color: #2E8B57;
            margin-bottom: 15px;
            font-size: 18px;
            font-weight: bold;
        }

        .question {
            display: grid;
            grid-template-columns: 60px 1fr auto;
            gap: 30px;
            align-items: center;
            padding: 40px;
            margin-bottom: 20px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border-left: 6px solid transparent;
        }

        /* ë¬¸í•­ë³„ë¡œ ë‹¤ë¥¸ ë°°ê²½ìƒ‰ ì ìš© - ìƒ‰ìƒ ë†ë„ ì¦ê°€ */
        .question:nth-child(4n+1) {
            background-color: rgba(46, 139, 87, 0.18);  /* ë†ë„ ì¦ê°€ */
            border-left-color: #2E8B57;
        }
        .question:nth-child(4n+2) {
            background-color: rgba(100, 139, 46, 0.18);  /* ë†ë„ ì¦ê°€ */
            border-left-color: #648B2E;
        }
        .question:nth-child(4n+3) {
            background-color: rgba(139, 87, 46, 0.18);  /* ë†ë„ ì¦ê°€ */
            border-left-color: #8B572E;
        }
        .question:nth-child(4n+4) {
            background-color: rgba(87, 46, 139, 0.18);  /* ë†ë„ ì¦ê°€ */
            border-left-color: #572E8B;
        }

        .question:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.12);
            background-color: rgba(46, 139, 87, 0.15);  /* hoverì‹œ ì•½ê°„ ì§„í•´ì§ */
        }

        .question-number {
            font-weight: 700;
            font-size: 32px;
            text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.1);
        }

        /* ê° ë¬¸í•­ ë²ˆí˜¸ì˜ ìƒ‰ìƒë„ í•´ë‹¹ ìƒ‰ìƒê³¼ ë§¤ì¹­ */
        .question:nth-child(4n+1) .question-number { color: #2E8B57; }
        .question:nth-child(4n+2) .question-number { color: #648B2E; }
        .question:nth-child(4n+3) .question-number { color: #8B572E; }
        .question:nth-child(4n+4) .question-number { color: #572E8B; }

        /* hover ì‹œ ë” ì§„í•œ ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½ */
        .question:nth-child(4n+1):hover { background-color: rgba(46, 139, 87, 0.22); }
        .question:nth-child(4n+2):hover { background-color: rgba(100, 139, 46, 0.22); }
        .question:nth-child(4n+3):hover { background-color: rgba(139, 87, 46, 0.22); }
        .question:nth-child(4n+4):hover { background-color: rgba(87, 46, 139, 0.22); }

        .question-text {
            font-size: 32px;
            line-height: 1.4;
            color: #2c3e50;
            font-weight: 500;
        }

        .score-buttons {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            min-width: 450px;
        }

        .score-button {
            flex: 1;
            height: 52px;
            background: linear-gradient(145deg, #ffffff, #e6e6e6);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 800;
            letter-spacing: 0.5px;
            text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.8);
        }

        /* ì ìˆ˜ë³„ ë²„íŠ¼ ìƒ‰ìƒ */
        .score-button:nth-child(1) {
            color: #d32f2f;
            border: 2.5px solid #d32f2f;
        }
        .score-button:nth-child(2) {
            color: #f57c00;
            border: 2.5px solid #f57c00;
        }
        .score-button:nth-child(3) {
            color: #388e3c;
            border: 2.5px solid #388e3c;
        }
        .score-button:nth-child(4) {
            color: #1976d2;
            border: 2.5px solid #1976d2;
        }
        .score-button:nth-child(5) {
            color: #7b1fa2;
            border: 2.5px solid #7b1fa2;
        }

        .score-button:hover {
            transform: translateY(-2px);
            box-shadow: 
                10px 10px 20px rgba(0, 0, 0, 0.15),
                -5px -5px 20px rgba(255, 255, 255, 0.8),
                inset 1px 1px 2px rgba(255, 255, 255, 0.8),
                inset -1px -1px 2px rgba(0, 0, 0, 0.05);
        }

        /* í˜¸ë²„ íš¨ê³¼ ê°•í™” */
        .score-button:nth-child(1):hover {
            background: rgba(211, 47, 47, 0.1);
            border-color: #ff1744;
        }
        .score-button:nth-child(2):hover {
            background: rgba(245, 124, 0, 0.1);
            border-color: #ff9100;
        }
        .score-button:nth-child(3):hover {
            background: rgba(56, 142, 60, 0.1);
            border-color: #00c853;
        }
        .score-button:nth-child(4):hover {
            background: rgba(25, 118, 210, 0.1);
            border-color: #2979ff;
        }
        .score-button:nth-child(5):hover {
            background: rgba(123, 31, 162, 0.1);
            border-color: #aa00ff;
        }

        .score-button.selected {
            font-weight: 800;
            text-shadow: none;
            letter-spacing: 0.5px;
        }

        /* ì„ íƒëœ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ê°•í™” */
        .score-button.selected:nth-child(1) {
            background: linear-gradient(145deg, #d32f2f, #b71c1c);
            color: white;
            border-color: #ff1744;
        }
        .score-button.selected:nth-child(2) {
            background: linear-gradient(145deg, #f57c00, #e65100);
            color: white;
            border-color: #ff9100;
        }
        .score-button.selected:nth-child(3) {
            background: linear-gradient(145deg, #388e3c, #2e7d32);
            color: white;
            border-color: #00c853;
        }
        .score-button.selected:nth-child(4) {
            background: linear-gradient(145deg, #1976d2, #1565c0);
            color: white;
            border-color: #2979ff;
        }
        .score-button.selected:nth-child(5) {
            background: linear-gradient(145deg, #7b1fa2, #6a1b9a);
            color: white;
            border-color: #aa00ff;
        }

        .submit-btn {
            display: block;
            width: 280px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(145deg, #2E8B57, #267347);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 
                8px 8px 20px rgba(0, 0, 0, 0.2),
                -4px -4px 20px rgba(255, 255, 255, 0.1),
                inset 1px 1px 2px rgba(255, 255, 255, 0.2),
                inset -1px -1px 2px rgba(0, 0, 0, 0.1);
        }

        .submit-btn:hover {
            background: linear-gradient(145deg, #267347, #2E8B57);
            transform: translateY(-3px);
            box-shadow: 
                10px 10px 30px rgba(0, 0, 0, 0.25),
                -5px -5px 30px rgba(255, 255, 255, 0.15),
                inset 1px 1px 2px rgba(255, 255, 255, 0.2),
                inset -1px -1px 2px rgba(0, 0, 0, 0.1);
        }

        #results {
            margin-top: 30px;
            padding: 20px;
            background-color: #d0e0f0;
            border-radius: 8px;
            display: none;
        }

        .result-box {
            background-color: rgb(201, 203, 230);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .result-image {
            max-width: 100%;
            height: auto;
            margin-top: 20px;
            border-radius: 8px;
        }

        .scores-summary {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .title-container {
            width: 100%;
            height: 250px;
            background-image: url('/static/images/study-type.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            margin-bottom: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .title-container h1 {
            font-size: 40px;
            font-weight: 700;
            color: #141414;
            text-align: center;
            font-family: 'Noto Sans KR', sans-serif;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title-container">
            <h1></h1>
        </div>

        <div class="instructions">
            <p style="font-size: 25px; margin-bottom: 15px;">
                â£ï¸ ê° ë¬¸í•­ì„ ì˜ ì½ê³  ìì‹ ê³¼ ê°€ì¥ ì¼ì¹˜í•˜ëŠ” ì •ë„ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”
            </p>
            <p style="font-size: 25px; color: #141414; display: flex; align-items: center; justify-content: center; gap: 8px;">
                <span>ğŸ’ ê²°ê³¼ í™•ì¸ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë‚˜ì˜ í•™ìŠµ ìœ í˜•ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</span>
                <span style="animation: bounce 1s infinite"></span>
            </p>
            <div class="score-description">
                <div class="score-item">ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤ (1ì )</div>
                <div class="score-item">ê·¸ë ‡ì§€ ì•Šë‹¤ (2ì )</div>
                <div class="score-item">ë³´í†µì´ë‹¤ (3ì )</div>
                <div class="score-item">ì–´ëŠì •ë„ ê·¸ë ‡ë‹¤ (4ì )</div>
                <div class="score-item">ë§¤ìš° ê·¸ë ‡ë‹¤ (5ì )</div>
            </div>
        </div>

       

        <form id="checklistForm">
            <div id="questionContainer"></div>
            <button type="button" class="submit-btn" onclick="calculateResults()">ê²°ê³¼ í™•ì¸í•˜ê¸°</button>
        </form>

        <div id="results"></div>
    </div>

    <script>
        const questionGroups = {
            A: {
                title: "Aí˜•: ë„¤ëª¨í˜• ê·¸ë£¹",
                questions: [
                    "ê·œì¹™ì— ì–´ê¸‹ë‚˜ëŠ” í–‰ë™ì€ ì˜ í•˜ì§€ ì•ŠëŠ” í¸ì´ë‹¤.",
                    "ë‚´ ë¬¼ê±´ë“¤ì€ ì •í•´ì§„ ìœ„ì¹˜ë‚˜ ìë¦¬ê°€ ìˆë‹¤.",
                    "ìë£Œë¥¼ ì˜ ëª¨ìœ¼ê³  ì¼í•  ë‚´ìš©ë„ ì •ë¦¬ë¥¼ ê¼¼ê¼¼í•˜ê²Œ í•˜ëŠ” í¸ì´ë‹¤.",
                    "ì‹œë„ëŸ¬ìš°ë©´ ì¼í•˜ëŠ”ë° ì§‘ì¤‘í•˜ê¸° í˜ë“¤ë‹¤.",
                    "ì˜ ì§œì§„ ê³„íšì„ ì¢‹ì•„í•œë‹¤.",
                    "êµ¬ì²´ì ì´ê³  ì‚¬ì‹¤ì ì¸ ë‚´ìš©ì„ ì„ íƒí•˜ëŠ” í¸ì´ë‹¤.",
                    "ì£¼ì–´ì§„ ì¼ì„ ì¶©ì‹¤í•˜ê²Œ í•˜ë ¤ê³  ì• ì“°ì§€ë§Œ ë•Œë¡œëŠ” ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ë˜ê¸°ë„ í•œë‹¤."
                ],
                description: "ì²´ê³„ì ì´ê³  ê³„íšì ì¸ ì„±í–¥",
                imageUrl: "/static/img/learn-style/A.png"
            },
            B: {
                title: "Bí˜•: ì„¸ëª¨í˜• ê·¸ë£¹",
                questions: [
                    "ëª©í‘œë¥¼ ë†’ì´ ì„¸ìš°ëŠ” í¸ì´ë‹¤.",
                    "ìˆ˜ì—…ì€ ì£¼ë¡œ ë“¤ìœ¼ë©´ì„œ ì´í•´í•˜ê³  í•„ê¸°ë¥¼ ì§œì„ìƒˆ ìˆê²Œ í•˜ì§€ ì•ŠëŠ”ë‹¤.",
                    "í‰ì†Œì— ìì‹ ê°ì´ ë„˜ì³ì„œ ì–¸ì œë“ ì§€ í•´ì•¼ í•  ì¼ì„ ì˜í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•œë‹¤.",
                    "ë•Œë•Œë¡œ í˜„ì¬ì˜ ì¼ë³´ë‹¤ ë¯¸ë˜ì˜ ëª©í‘œì™€ ì¼ì„ ì¤‘ìš”í•˜ê²Œ ì—¬ê¸´ë‹¤.",
                    "ë‹¤ë¥¸ ì‚¬ëŒì´ ë§í•˜ëŠ” ë‚´ìš©ì´ ë‚´ ìƒê°ê³¼ ë‹¤ë¥´ë©´ ì§ˆë¬¸ì„ ì˜í•œë‹¤.",
                    "ë‚´ê°€ ì¼í•˜ëŠ”ë° ì›í•˜ëŠ” í™˜ê²½ì„ ë§Œë“¤ë ¤ê³  ë…¸ë ¥í•˜ëŠ” í¸ì´ë‹¤.",
                    "ì–´ë–¤ ì¼ì´ë“  ì½”ì•ì— ë‹¥ì³ì„œ í•˜ê³  ìˆœë°œë ¥ê³¼ ìœµí†µì„±ì´ ìˆë‹¤."
                ],
                description: "ë„ì „ì ì´ê³  ì§„ì·¨ì ì¸ ì„±í–¥",
                imageUrl: "/static/img/learn-style/B.png"
            },
            C: {
                title: "Cí˜•: ë™ê·¸ë¼ë¯¸í˜• ê·¸ë£¹",
                questions: [
                    "ë‹¤ë¥¸ ì‚¬ëŒì˜ í•„ìš”ë¥¼ ë¹¨ë¦¬ ì•Œì•„ì±„ê³  ë‚¨ì„ ì˜ ë„ì™€ì¤€ë‹¤.",
                    "ìì‹ ì˜ ì²˜ì§€ë³´ë‹¤ íƒ€ì¸ì´ë‚˜ ì£¼ë³€ì˜ ì¼ì— ê´€ì‹¬ì´ ë§ë‹¤.",
                    "ë‹¤ë¥¸ ì‚¬ëŒì´ ì”ì†Œë¦¬í•˜ê³  í›ˆê³„í•˜ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë§ì´ ë°›ëŠ” í¸ì´ë‹¤.",
                    "ì¼ì´ ì–´ë ¤ì›Œì§€ë©´ í•´ê²°í•˜ë ¤ê³  ë…¸ë ¥í•˜ê¸°ë³´ë‹¤ëŠ” ê³ ë¯¼í•˜ëŠë¼ ì‹œê°„ì„ ë³´ë‚¸ë‹¤.",
                    "ì‹¤ì²œí•  ì˜ì§€ì™€ ìƒê°ì´ ìˆì§€ë§Œ, í˜„ì‹¤ì ìœ¼ë¡œ ê³„íšì„ ì„¸ìš°ê±°ë‚˜ í–‰ë™í•˜ê¸°ê°€ ì–´ë µë‹¤.",
                    "ì£¼ë³€ì— ì¹œí•œ ì¹œêµ¬ë“¤ì´ ë§ì€ í¸ì´ë‹¤.",
                    "í•´ê²°í•´ì•¼í•  ë‚´ìš©ì´ ì–´ë ¤ìš°ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ì§€ ë°©ë²•ì ì¸ ë©´ì—ì„œ ë§‰ë§‰í•˜ë‹¤."
                ],
                description: "ê´€ê³„ ì§€í–¥ì ì´ê³  ê°ì„±ì ì¸ ì„±í–¥",
                imageUrl: "/static/img/learn-style/C.png"
            },

            D: {
                title: "Dí˜•: ë³„í˜• ê·¸ë£¹",
                questions: [
                    "ì§‘ì¤‘í•´ì•¼ í•  ë•Œ ì‚°ë§Œí•˜ê³  ë”´ ìƒê°ì´ ë§ì´ ë‚˜ì„œ ì–´ë ¤ì›€ì„ ê²ªëŠ”ë‹¤.",
                    "í˜¸ê¸°ì‹¬ì´ë‚˜ í¥ë¯¸ë¥¼ ê°–ëŠ” ì¼ì´ ë§ê³  í•˜ê³  ì‹¶ì€ ì¼ì´ ë§ì•„ í•œ ê°€ì§€ë¥¼ ëê¹Œì§€ í•˜ê¸°ê°€ ì–´ë µë‹¤.",
                    "ëŠ˜ ìƒˆë¡œìš´ ìƒê°ê³¼ ì•„ì´ë””ì–´ê°€ ë§ì•„ ê¸°ë¶„ì´ ì¢‹ë‹¤.",
                    "ê³µë¶€ë¥¼ í•˜ë©´ì„œ ê³„íšëŒ€ë¡œ ëê¹Œì§€ í•´ë³¸ ì ì´ ê±°ì˜ ì—†ë‹¤.",
                    "ìœ í–‰ì— ë¯¼ê°í•˜ê³  í™˜ê²½ íƒ“ì„ ë§ì´ í•˜ëŠ” í¸ì´ë‹¤.",
                    "ë§ˆìŒë¨¹ê³  ê³µë¶€ë¥¼ ì‹œì‘í•˜ë”ë¼ë„ ê°ì •ê¸°ë³µì´ ì»¤ì„œ ì‘ì‹¬ì‚¼ì¼ì´ ë˜ê¸° ì‰½ë‹¤.",
                    "ìˆœë°œë ¥ì´ ë›°ì–´ë‚˜ë©° í™œë™ì ì¸ í¸ì´ë‹¤."
                ],
                description: "ì°½ì˜ì ì´ê³  ììœ ë¡œìš´ ì„±í–¥",
                imageUrl: "/static/img/learn-style/D.png"
            }
        };


        function createQuestions() {
            const container = document.getElementById('questionContainer');
            let questionNumber = 1;
            
            const allQuestions = [
                ...questionGroups.A.questions,
                ...questionGroups.B.questions,
                ...questionGroups.C.questions,
                ...questionGroups.D.questions
            ];
            
            allQuestions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                
                const scoreButtons = document.createElement('div');
                scoreButtons.className = 'score-buttons';
                
                for (let i = 1; i <= 5; i++) {
                    const button = document.createElement('button');
                    button.type = 'button';
                    button.className = 'score-button';
                    button.textContent = i + 'ì ';
                    button.onclick = function() {
                        questionDiv.querySelectorAll('.score-button').forEach(btn => {
                            btn.classList.remove('selected');
                        });
                        this.classList.add('selected');
                        questionDiv.querySelector('input[type="hidden"]').value = i;
                    };
                    scoreButtons.appendChild(button);
                }
                
                questionDiv.innerHTML = `
                    <div class="question-number">${questionNumber}</div>
                    <div class="question-text">${question}</div>
                    <input type="hidden" name="q${questionNumber}" value="">
                `;
                questionDiv.appendChild(scoreButtons);
                
                container.appendChild(questionDiv);
                questionNumber++;
            });
        }

        function calculateResults() {
            const form = document.getElementById('checklistForm');
            const results = document.getElementById('results');
            let scores = { A: 0, B: 0, C: 0, D: 0 };
            let unanswered = [];

            // Calculate scores for each group
            for (let i = 1; i <= 28; i++) {
                const input = form.querySelector(`input[name="q${i}"]`);
                const value = input.value;
                
                if (!value) {
                    unanswered.push(i);
                    continue;
                }

                if (i <= 7) scores.A += parseInt(value);
                else if (i <= 14) scores.B += parseInt(value);
                else if (i <= 21) scores.C += parseInt(value);
                else scores.D += parseInt(value);
            }

            if (unanswered.length > 0) {
                alert(`ë‹¤ìŒ ë¬¸í•­ì— ë‹µí•´ì£¼ì„¸ìš”: ${unanswered.join(', ')}`);
                return;
            }

            // ìµœê³  ì ìˆ˜ ì°¾ê¸°
            const maxScore = Math.max(...Object.values(scores));
            
            // ìµœê³  ì ìˆ˜ì™€ ë™ì¼í•œ ì ìˆ˜ë¥¼ ê°€ì§„ ê·¸ë£¹ ì°¾ê¸°
            const maxScoreGroups = Object.entries(scores).filter(([_, score]) => score === maxScore);

            // ë™ì ì¸ ê·¸ë£¹ì´ ìˆëŠ”ì§€ í™•ì¸
            if (maxScoreGroups.length > 1) {
                const groupNames = {
                    A: "ë„¤ëª¨í˜•",
                    B: "ì„¸ëª¨í˜•",
                    C: "ë™ê·¸ë¼ë¯¸í˜•",
                    D: "ë³„í˜•"
                };
                
                const tiedGroups = maxScoreGroups.map(([group, _]) => groupNames[group]).join(', ');
                
                // ìŠ¤íƒ€ì¼ì´ ì ìš©ëœ ì»¤ìŠ¤í…€ ì•Œë¦¼ì°½ ìƒì„±
                const popup = document.createElement('div');
                popup.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: white;
                    padding: 30px;
                    border-radius: 15px;
                    box-shadow: 0 5px 25px rgba(0,0,0,0.2);
                    z-index: 1000;
                    text-align: center;
                    min-width: 300px;
                    border: 2px solid #2E8B57;
                `;
                
                popup.innerHTML = `
                    <h3 style="color: #2E8B57; margin-bottom: 20px; font-size: 20px;">ë‹¤ì‹œ í•´ë³´ì„¸ìš”!</h3>
                    <p style="margin-bottom: 20px; line-height: 1.6;">
                        ${tiedGroups} ìœ í˜•ì´<br>
                        ë™ì¼í•œ ì ìˆ˜(${maxScore}ì )ë¡œ ë‚˜ì™”ìŠµë‹ˆë‹¤.<br>
                        ë” ì‹ ì¤‘í•˜ê²Œ ë‹¤ì‹œ ì²´í¬í•´ì£¼ì„¸ìš”.
                    </p>
                    <button onclick="this.parentElement.remove()" 
                        style="
                            background: #2E8B57;
                            color: white;
                            border: none;
                            padding: 10px 20px;
                            border-radius: 8px;
                            cursor: pointer;
                            font-weight: bold;
                            transition: all 0.3s ease;
                        "
                        onmouseover="this.style.backgroundColor='#267347'"
                        onmouseout="this.style.backgroundColor='#2E8B57'"
                    >
                        í™•ì¸
                    </button>
                `;
                
                // ë°°ê²½ ì˜¤ë²„ë ˆì´ ìƒì„±
                const overlay = document.createElement('div');
                overlay.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0,0,0,0.5);
                    z-index: 999;
                `;
                overlay.onclick = () => {
                    overlay.remove();
                    popup.remove();
                };
                
                document.body.appendChild(overlay);
                document.body.appendChild(popup);
                
                return; // ê²°ê³¼ í‘œì‹œí•˜ì§€ ì•Šê³  ì¢…ë£Œ
            }

            // ë™ì ì´ ì•„ë‹ ê²½ìš° ê²°ê³¼ í‘œì‹œ
            const dominantType = maxScoreGroups[0][0];
            const typeInfo = {
                A: {
                    title: "Aí˜•: ë„¤ëª¨í˜• ê·¸ë£¹",
                    score: maxScore,
                    imageUrl: "/static/images/learn-style/A.png"
                },
                B: {
                    title: "Bí˜•: ì„¸ëª¨í˜• ê·¸ë£¹",
                    score: maxScore,
                    imageUrl: "/static/images/learn-style/B.png"
                },
                C: {
                    title: "Cí˜•: ë™ê·¸ë¼ë¯¸í˜• ê·¸ë£¹",
                    score: maxScore,
                    imageUrl: "/static/images/learn-style/C.png"
                },
                D: {
                    title: "Dí˜•: ë³„í˜• ê·¸ë£¹",
                    score: maxScore,
                    imageUrl: "/static/images/learn-style/D.png"
                }
            };
            
            results.style.display = 'block';
            results.innerHTML = `
                <div style="
                    text-align: center;
                    max-width: 105%;
                    margin: 0 auto;
                    transform: scale(1.05);
                    transform-origin: top center;
                    padding: 20px;
                    background-color: #E6F3FF;
                    border-radius: 20px;
                    box-shadow: 0 4px 20px rgba(0,0,0,0.05);
                ">
                   
                    <div style="
                        margin-top: 20px;
                        background-color: #E6F3FF;
                        padding: 20px;
                        border-radius: 16px;
                    ">
                        <img src="${typeInfo[dominantType].imageUrl}" 
                            alt="${typeInfo[dominantType].title} ì„¤ëª… ì´ë¯¸ì§€" 
                            style="
                                width: 100%;
                                height: auto;
                                border-radius: 16px;
                                box-shadow: 0 6px 25px rgba(0,0,0,0.12);
                            ">
                    </div>
                </div>
            `;

            results.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Initialize questions when page loads
        createQuestions();
    </script>
</body>
</html>